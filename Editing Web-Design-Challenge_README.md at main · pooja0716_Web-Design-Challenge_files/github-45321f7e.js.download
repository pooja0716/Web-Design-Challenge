System.register(["./vendor.js","./frameworks.js"],(function(){"use strict";var t,e,s,n,o,a,c,r,i,d,l,u,m,p,g,h,f;return{setters:[function(r){t=r.r,e=r.q,s=r.l,n=r.n,o=r.a,a=r.o,c=r.m},function(t){r=t.I,i=t.U,d=t.o,l=t.a,u=t.R,m=t._,p=t.n,g=t.V,h=t.T,f=t.b}],execute:function(){async function j(t,s,n){const o=e(document,t),a=e(document,s);function c(t){a.hidden=t,a.open=!1,o.hidden=!t}let d;c(!0);try{d=await n.json()}catch(u){return c(!1),void r()}const l=d.json;try{await i(l.job_url)}catch(u){return c(!1),void r()}c(!1),window.location=l.export_url}t(".js-audit-log-export-form",(async function(t,e){await j(".js-audit-log-exporting",".js-audit-log-export-menu",e)})),t(".js-audit-log-git-event-export-form",(async function(t,e){await j(".js-audit-log-git-event-exporting",".js-audit-log-git-event-export-menu",e)})),t(".js-toggler-container .js-set-approval-state",(async function(t,e){const n=s(t,".js-toggler-container");n.classList.add("loading");const o=await e.json();"approved"===o.json.approval_state?n.classList.add("on"):"denied"===o.json.approval_state&&(n.classList.add("revoked"),n.classList.remove("on")),n.classList.remove("loading")})),t(".js-request-access-approval-form",(async function(t,s){await s.text();const o=n(t,"data-container-id");e(document,`#${o}`).classList.add("on")})),o("details-menu-selected",".js-select-plan-menu",(function(t){const e=t.detail.relatedTarget,s=document.querySelectorAll(".js-plan-card-section");for(const c of s)c instanceof HTMLElement&&(c.hidden=!0);const n=t.currentTarget.querySelectorAll("[role^=menuitem]"),o=Array.from(n).indexOf(e),a=Array.from(s)[o];a instanceof HTMLElement&&(a.hidden=!1)}),{capture:!0}),a(".js-suggested-usernames-container",(function(t){const e=c(t,".js-suggested-username",HTMLInputElement),s=document.querySelector(".js-signup-form");if(s&&0!==e.length)for(const n of e)s.appendChild(n)})),d(".js-email-notice-trigger",(function(t){const e=c(document,".js-email-notice");for(const s of e)s.classList.add("notice-highlight");t.addEventListener("blur",(function(){for(const t of e)t.classList.remove("notice-highlight")}))})),a(".js-plan-choice:checked",{add(t){const e=t.closest(".plan-row");e&&e.classList.add("selected")},remove(t){const e=t.closest(".plan-row");e&&e.classList.remove("selected")}});const L=new WeakMap;function v(t){const n=t.target,o=s(n,"form");if(n.closest("input[type=text]")&&!L.get(o)){const t=e(o,".js-signup-source",HTMLInputElement);let s=t.value;t.hasAttribute("data-ga-label")&&(s=`${s}${t.getAttribute("data-ga-label")}`),u({category:"Sign up",action:"Attempt",label:s}),L.set(o,!0)}}function b(){const t=e(document,".js-password-with-confirmation",HTMLInputElement),n=e(document,".js-password-confirm",HTMLInputElement);n.value!==t.value?function(t){const e=s(t,".js-form-group");e.classList.add("errored");const n=t.getAttribute("data-validity-message");if(n){t.setCustomValidity(n);const e=s(t,"form",HTMLFormElement);g(e)}const o=e.querySelector(".error"),a=t.getAttribute("data-error-message");if(!o&&a){const t=document.createElement("dd");t.classList.add("error"),t.innerHTML=a,e.appendChild(t)}}(n):function(t){const e=s(t,".js-form-group");t.setCustomValidity(""),e.classList.remove("errored");const n=s(t,"form",HTMLFormElement);g(n);const o=e.querySelector(".error");o&&e.removeChild(o)}(n)}function y(t,e,s){const n=t.getBoundingClientRect().height,o=e.getBoundingClientRect(),a=s.getBoundingClientRect();let c=a.top;c+o.height+10>=n&&(c=Math.max(n-o.height-10,0));let r=a.right;null!=s.closest(".js-build-status-to-the-left")&&(r=Math.max(a.left-o.width-10,0)),e.style.top=`${c}px`,e.style.left=`${r}px`,e.style.right="auto"}async function w(t){const e=t.querySelector(".js-dropdown-details"),s=t.querySelector(".js-status-dropdown-menu")||t.closest(".js-status-dropdown-menu");if(!(s instanceof HTMLElement))return;const n=s.querySelector(".js-status-loader");if(!n)return;const o=s.querySelector(".js-status-loading"),a=s.querySelector(".js-status-error"),c=n.getAttribute("data-contents-url");let r;o.classList.remove("d-none"),a.classList.add("d-none");try{await h(),r=await f(document,c)}catch(i){o.classList.add("d-none"),a.classList.remove("d-none")}r&&(n.replaceWith(r),s.querySelector(".js-details-container").classList.add("open"),e&&s.classList.contains("js-append-menu-to-body")&&y(document.body,s,e))}function E(t){w(t.currentTarget)}a(".js-signup-form",{subscribe:t=>l(t,"input",v)}),o("submit",".js-signup-form-submit",(function(t){const s=t.currentTarget,n=e(s,".js-signup-source",HTMLInputElement);let o=n.value;n.hasAttribute("data-ga-label")&&(o=`${o}${n.getAttribute("data-ga-label")}`),u({category:"Sign up",action:"Submit",label:o})})),o("submit",".js-org-survey",(function(t){const e=t.currentTarget,s=c(e,".js-other-text",HTMLInputElement);for(const n of s){const t=m(n,"js-other-hidden-input");t instanceof HTMLInputElement&&(t.checked=n.value.length>0)}})),a(".js-show-next-question-trigger:checked",{constructor:HTMLElement,add(t){const e=t.closest(".js-show-next-question");if(e instanceof HTMLElement){const t=m(e,"js-hidden-question");t&&(t.hidden=!1)}},remove(t){const e=t.closest(".js-show-next-question");if(e instanceof HTMLElement){const t=m(e,"js-hidden-question");t&&(t.hidden=!0)}}}),a(".js-octocaptcha-parent",(function(t){const s=e(t,".js-octocaptcha-spinner"),n=e(t,".js-octocaptcha-success"),o=e(t,".js-octocaptcha-token",HTMLInputElement),a=e(t,".js-octocaptcha-form-submit",HTMLButtonElement),c=e(t,".js-octocaptcha-frame-container"),r=e(t,".js-octocaptcha-frame",HTMLIFrameElement),i=o.getAttribute("data-octocaptcha-url"),d=o.getAttribute("data-octocaptcha-timeout"),l=d?parseInt(d):3e4;let m=!1;const p=()=>{m||(m=!0,s.classList.add("d-none"),n.classList.remove("d-none"),h())},g=()=>{if(m)return;const e=document.createElement("input");e.type="hidden",e.id="error_loading_captcha",e.name="error_loading_captcha",e.value="1",t.appendChild(e),o.required=!1,p()},h=()=>{t.checkValidity()&&(a.disabled=!1)};setTimeout(g,l),r.addEventListener("error",g),window.addEventListener("message",t=>{if(t.origin!==i)return;const e=t.data&&t.data.event;var n;"captcha-loaded"===e?m||(m=!0,s.classList.add("d-none"),c.classList.remove("v-hidden","zero-height"),null===(n=r.contentWindow)||void 0===n||n.postMessage({event:"captcha-loaded-ack"},i||"")):"captcha-complete"===e?(o.value=t.data.sessionToken,(()=>{const t=c.getAttribute("data-ga-event-category");t&&u({category:t,action:"success",label:"captcha verified"})})(),h()):"captcha-suppressed"===e&&p()})})),a(".js-survey-answer-choice:checked",{add(t){const e=t.closest(".js-answer");if(e){const t=e.querySelector(".js-answer-choice");t&&(t.classList.remove("border-black-fade","bg-white"),t.classList.add("border-blue","bg-blue-light"))}const s=document.querySelector(`.js-other-input-box[data-other-input-for=${t.getAttribute("data-question-short-text")}]`);s instanceof HTMLElement&&t.classList.contains("js-other-choice")&&(s.hidden=!1)},remove(t){const e=t.closest(".js-answer");if(e){const t=e.querySelector(".js-answer-choice");t&&(t.classList.remove("border-blue","bg-blue-light"),t.classList.add("border-black-fade","bg-white"))}const s=document.querySelector(`.js-other-input-box[data-other-input-for=${t.getAttribute("data-question-short-text")}]`);s instanceof HTMLElement&&t.classList.contains("js-other-choice")&&(s.hidden=!0)}}),a(".js-allow-multiple:checked",{constructor:HTMLInputElement,add(t){const e=parseInt(t.getAttribute("data-max-choices")||""),n=s(t,".js-question"),o=c(n,".js-allow-multiple",HTMLInputElement);if(o.filter(t=>!0===t.checked).length>=e)for(const s of o)!1===s.checked&&(s.disabled=!0)},remove(t){const e=s(t,".js-question");for(const s of c(e,".js-allow-multiple",HTMLInputElement))s.disabled=!1}}),p("keyup",".js-password-with-confirmation",()=>{""!==e(document,".js-password-confirm",HTMLInputElement).value&&b()}),p("keyup",".js-password-confirm",b),o("toggle",".js-build-status .js-dropdown-details",(function(t){const e=t.currentTarget,s=e.querySelector(".js-status-dropdown-menu");function n(){e.hasAttribute("open")||a()}function o(t){s.contains(t.target)||a()}function a(){e.removeAttribute("open"),s.classList.add("d-none"),e.appendChild(s),e.removeEventListener("toggle",n),window.removeEventListener("scroll",o)}s&&(e.addEventListener("toggle",n),s.classList.contains("js-close-menu-on-scroll")&&window.addEventListener("scroll",o,{capture:!0}),s.classList.remove("d-none"),s.querySelector(".js-details-container").classList.add("open"),s.classList.contains("js-append-menu-to-body")&&(document.body.appendChild(s),y(document.body,s,e)))}),{capture:!0}),o("click",".js-status-retry",({currentTarget:t})=>{w(t)}),a(".js-build-status",{add(t){t.addEventListener("mouseenter",E,{once:!0})},remove(t){t.removeEventListener("mouseenter",E)}})}}}));
//# sourceMappingURL=github-988bd87c.js.map
